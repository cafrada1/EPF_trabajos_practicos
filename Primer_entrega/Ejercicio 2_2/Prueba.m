N_A=6.02*10^23;
funcion=@(a,b)integral(@(r)(2*pi*N_A*(1-...
    exp(-((4*1e-21*a.*...
    ((1e-8*b./(r)).^12-(1e-8*b./(r)).^6))+(1e-8*b/61.3))./...
    (T.*kb))).*r.^2),0,2.5e-8*b,"ArrayValued",true);


B=B_Experimental;
fo = fitoptions('Method','NonlinearLeastSquares',...
               'Lower',[1,1],...
               'Upper',[1000,10],...
               'StartPoint',[50,1]);
               %'Lower',[0.001,0.001,12,6],...
               %'Upper',[1000,1000,30,12],...
myfittype = fittype('integral(@(r)(2*pi*6.02*10^23*(1-exp(-((4*a.*((1e-8*b./(r)).^12-(1e-8*b./(r)).^6)))./T)).*r.^2),0,b*5e-8,"ArrayValued",true)',...
    'dependent',{'B'},'independent',{'T'},...
    'coefficients',{'a','b'},'options',fo);

%myfittype = fittype('integral(@(r)(2*pi*6.02*10^23*(1-exp(-((4*1e-21*a.*((1e-8*b./(r)).^c-(1e-8*b./(r)).^d)))./(T.*1.38*10^-23))).*r.^2),0,Inf,"ArrayValued",true)',...
%    'dependent',{'B'},'independent',{'T'},...
%    'coefficients',{'a','b','c','d'},'options',fo);
